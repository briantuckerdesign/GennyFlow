// gennyFlow v1.2.0 by Brian Tucker
// https://github.com/briantuckerdesign/GennyFlow
function gfInlineSVG(e = "gf_svg") { let t = "img." + e; inlineSVG.init({ svgSelector: t, initClass: "js-inlinesvg" }) } function formatDate() { let e = new Date, t = String(e.getDate()).padStart(2, "0"), n = String(e.getMonth() + 1).padStart(2, "0"), l = e.getFullYear(); return e = n + t + l.toString().substr(-2), e } function gennyFlow(e) { i = 0, e = e || {}; const t = formatDate(), n = e.captureWrapperID || "gf_wrapper"; e.captureClass, e.slugClass; let l = 0 != e.debugSVG, a = 0 != e.debugAllowTaint, g = 0 != e.debugUseCORS, c = new JSZip, o = e.getZipNameID ? e.getZipNameID : "gf_zip-name", r = e.setZipName ? e.setZipName : "images", s = document.getElementById(o) ? document.getElementById(o).value : r, u = e.getScale || "gf_scale", d = e.setScale || 1, m = document.getElementById(u) ? document.getElementById(u).value : d, p = 0 != e.imgLabelScale ? "_@" + m + "x" : "", f = 0 != e.imgLabelDate ? "_" + t : "", h = 0 != e.zipLabelScale ? "_@" + m + "x" : "", S = 0 != e.zipLabelDate ? "_" + t : ""; l && document.body.querySelectorAll("svg").forEach((function (e) { e.setAttribute("width", e.getBoundingClientRect().width), e.setAttribute("height", e.getBoundingClientRect().height) })); const b = document.getElementById(n).querySelectorAll(".gf_capture"); if (1 == b.length) for (let e = 0; e < b.length; e++) { html2canvas(b[e], { scale: m, allowTaint: a, useCORS: g }).then((t => { let n = b[e].querySelector(".gf_slug").innerHTML + f + p + ".png"; t.toBlob((function (e) { window.saveAs(e, n) })) })) } else { let e = document.createElement("div"); e.setAttribute("id", e), document.body.appendChild(e); for (let t = 0; t < b.length + 1; t++)html2canvas(b[t], { scale: m, allowTaint: a, useCORS: g }).then((l => { let i = b[t].querySelector(".gf_slug").innerHTML + f + p + ".png", a = l.toDataURL("image/png"), g = document.createElement("img"); g.src = a, c.file(i, g.src.substr(g.src.indexOf(",") + 1), { base64: !0 }), $(e).append('<img src="' + g.src + '"/>'), document.getElementById(e).children.length == document.getElementById(n).children.length && (c.generateAsync({ type: "blob" }, (function (e) { })).then((function (e) { saveAs(e, s + S + h + ".zip") })).catch((e => { })), document.body.removeChild(e)) })) } } gfInlineSVG();